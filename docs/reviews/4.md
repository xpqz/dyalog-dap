# Review: Issue #4 - Implement typed RIDE command codec with tolerant unknown handling

## Summary

The previously reported major gap is resolved: known phase-1 commands now decode into typed argument models, while unknown commands retain tolerant map-based decoding. Test coverage validates typed decode, unknown-command tolerance, raw fallback behavior, and boolean normalization. One non-blocking API-shape note remains.

## Findings

### Note: Decode API currently uses error return only for signature compatibility

`DecodePayload` keeps an `error` return value but intentionally downgrades malformed command JSON to `KindRaw` with `nil` error for tolerant handling. This is acceptable, but should be explicitly documented in package-level docs/API comments to avoid misuse by callers expecting strict parse failures.

Location: `/Users/stefan/work/lsp-dap/internal/ride/protocol/codec.go:285`

## Verification

- Tests: pass (`go test ./...`)
- Vet: clean (`go vet ./...`)
- Format: clean (`gofmt -l ...` returned no files)
- Clippy: not applicable (Go repository)

## Recommendation

Approve with minor changes
